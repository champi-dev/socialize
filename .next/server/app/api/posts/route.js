"use strict";(()=>{var e={};e.id=990,e.ids=[990],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4402:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>f,patchFetch:()=>P,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>v});var o={};r.r(o),r.d(o,{GET:()=>c,POST:()=>l});var n=r(5419),s=r(9108),a=r(9678),i=r(8070),u=r(2345);async function c(e){try{await (0,u.Z)();let e=[{_id:"1",title:"Welcome to Socialize!",content:"This is a demo post to show the API is working.",author:{username:"admin",displayName:"Admin User"},createdAt:new Date().toISOString(),likes:0,comments:[]}];return i.Z.json({posts:e,total:e.length})}catch(e){return console.error("Posts fetch error:",e),i.Z.json({error:"Internal server error"},{status:500})}}async function l(e){try{await (0,u.Z)();let{title:t,content:r}=await e.json();if(!r)return i.Z.json({error:"Post content is required"},{status:400});return i.Z.json({error:"Authentication required",message:"Please login to create posts"},{status:401})}catch(e){return console.error("Post creation error:",e),i.Z.json({error:"Internal server error"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/posts/route",pathname:"/api/posts",filename:"route",bundlePath:"app/api/posts/route"},resolvedPagePath:"/Users/champi/Development/socialize/app/api/posts/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:d,serverHooks:h,headerHooks:g,staticGenerationBailout:v}=p,f="/api/posts/route";function P(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},2345:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(1185),n=r.n(o);let s=process.env.MONGODB_URI;if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let i=async function(){if(a.conn)return a.conn;a.promise||(a.promise=n().connect(s,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,206],()=>r(4402));module.exports=o})();