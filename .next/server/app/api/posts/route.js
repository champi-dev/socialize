"use strict";(()=>{var e={};e.id=990,e.ids=[990],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4402:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>f,originalPathname:()=>v,patchFetch:()=>w,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>g});var o={};t.r(o),t.d(o,{GET:()=>c,POST:()=>l});var n=t(5419),s=t(9108),a=t(9678),i=t(8070),u=t(2345);async function c(e){try{if(!process.env.MONGODB_URI)return i.Z.json({error:"Database not configured"},{status:503});await (0,u.Z)();let e=[{_id:"1",title:"Welcome to Socialize!",content:"This is a demo post to show the API is working.",author:{username:"admin",displayName:"Admin User"},createdAt:new Date().toISOString(),likes:0,comments:[]}];return i.Z.json({posts:e,total:e.length})}catch(e){return console.error("Posts fetch error:",e),i.Z.json({error:"Internal server error"},{status:500})}}async function l(e){try{if(!process.env.MONGODB_URI)return i.Z.json({error:"Database not configured"},{status:503});await (0,u.Z)();let{title:r,content:t}=await e.json();if(!t)return i.Z.json({error:"Post content is required"},{status:400});return i.Z.json({error:"Authentication required",message:"Please login to create posts"},{status:401})}catch(e){return console.error("Post creation error:",e),i.Z.json({error:"Internal server error"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/posts/route",pathname:"/api/posts",filename:"route",bundlePath:"app/api/posts/route"},resolvedPagePath:"/Users/champi/Development/socialize/app/api/posts/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:h,headerHooks:f,staticGenerationBailout:g}=p,v="/api/posts/route";function w(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},2345:(e,r,t)=>{t.d(r,{Z:()=>i});var o=t(1185),n=t.n(o);let s=process.env.MONGODB_URI;s||console.warn("MONGODB_URI is not defined - database features will not work");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let i=async function(){if(!s)throw Error("MONGODB_URI is not defined in environment variables");if(a.conn)return a.conn;a.promise||(a.promise=n().connect(s,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[638,206],()=>t(4402));module.exports=o})();